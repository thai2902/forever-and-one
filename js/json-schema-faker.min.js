/*!
 * json-schema-faker v0.5.0-rc16
 * (c) 2018-present Alvaro Cabrera <pateketrueke@gmail.com> (https://soypache.co)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jsonpath"),require("json-schema-ref-parser")):"function"==typeof define&&define.amd?define(["jsonpath","json-schema-ref-parser"],t):e.JSONSchemaFaker=t(e.jsonpath,e.$RefParser)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var r=function(){this.data={}};r.prototype.unregister=function(e){e?delete this.data[e]:this.data={}},r.prototype.register=function(e,t){this.data[e]=t},r.prototype.registerMany=function(e){var t=this;Object.keys(e).forEach(function(r){t.data[r]=e[r]})},r.prototype.get=function(e){return this.data[e]},r.prototype.list=function(){return this.data};var n={defaultInvalidTypeProduct:null,defaultRandExpMax:10,ignoreProperties:[],ignoreMissingRefs:!1,failOnInvalidTypes:!0,failOnInvalidFormat:!0,alwaysFakeOptionals:!1,optionalsProbability:!1,fixedProbabilities:!1,useExamplesValue:!1,useDefaultValue:!1,requiredOnly:!1,minItems:0,maxItems:null,minLength:0,maxLength:null,resolveJsonPath:!1,reuseProperties:!1,fillProperties:!0};n.random=Math.random;var i=new(function(e){function t(){e.call(this),this.data=Object.assign({},n),this._defaults=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaults:{configurable:!0}};return r.defaults.get=function(){return Object.assign({},this._defaults)},Object.defineProperties(t.prototype,r),t}(r));function a(e){return"string"==typeof e?i.get(e):i.registerMany(e)}a.getDefaults=function(){return i.defaults};var o={ALL_TYPES:["array","object","integer","number","string","boolean","null"],MIN_NUMBER:-100,MAX_NUMBER:100,MIN_INTEGER:-1e8,MAX_INTEGER:1e8,MOST_NEAR_DATETIME:2524608e6};var s={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7};const u=()=>[{type:s.RANGE,from:48,to:57}],l=()=>[{type:s.CHAR,value:95},{type:s.RANGE,from:97,to:122},{type:s.RANGE,from:65,to:90}].concat(u()),c=()=>[{type:s.CHAR,value:9},{type:s.CHAR,value:10},{type:s.CHAR,value:11},{type:s.CHAR,value:12},{type:s.CHAR,value:13},{type:s.CHAR,value:32},{type:s.CHAR,value:160},{type:s.CHAR,value:5760},{type:s.RANGE,from:8192,to:8202},{type:s.CHAR,value:8232},{type:s.CHAR,value:8233},{type:s.CHAR,value:8239},{type:s.CHAR,value:8287},{type:s.CHAR,value:12288},{type:s.CHAR,value:65279}];var f,h=()=>({type:s.SET,set:l(),not:!1}),p=()=>({type:s.SET,set:l(),not:!0}),m=()=>({type:s.SET,set:u(),not:!1}),d=()=>({type:s.SET,set:u(),not:!0}),g=()=>({type:s.SET,set:c(),not:!1}),y=()=>({type:s.SET,set:c(),not:!0}),v=()=>({type:s.SET,set:(()=>[{type:s.CHAR,value:10},{type:s.CHAR,value:13},{type:s.CHAR,value:8232},{type:s.CHAR,value:8233}])(),not:!0}),x=(function(e,t){const r={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,function(e,t,n,i,a,o,s,u){if(n)return e;var l=t?8:i?parseInt(i,16):a?parseInt(a,16):o?parseInt(o,8):s?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(s):r[u],c=String.fromCharCode(l);return/[[\]{}^$.|?*+()]/.test(c)&&(c="\\"+c),c})},t.tokenizeClass=((e,r)=>{for(var n,i,a=[],o=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(n=o.exec(e));)if(n[1])a.push(h());else if(n[2])a.push(m());else if(n[3])a.push(g());else if(n[4])a.push(p());else if(n[5])a.push(d());else if(n[6])a.push(y());else if(n[7])a.push({type:s.RANGE,from:(n[8]||n[9]).charCodeAt(0),to:n[10].charCodeAt(0)});else{if(!(i=n[12]))return[a,o.lastIndex];a.push({type:s.CHAR,value:i.charCodeAt(0)})}t.error(r,"Unterminated character class")}),t.error=((e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)})}(f={exports:{}},f.exports),f.exports),b=(x.strToChars,x.tokenizeClass,x.error,()=>({type:s.POSITION,value:"b"})),w=()=>({type:s.POSITION,value:"B"}),E=()=>({type:s.POSITION,value:"^"}),O=()=>({type:s.POSITION,value:"$"}),A=e=>{var t,r,n=0,i={type:s.ROOT,stack:[]},a=i,o=i.stack,u=[],l=t=>{x.error(e,`Nothing to repeat at column ${t-1}`)},c=x.strToChars(e);for(t=c.length;n<t;)switch(r=c[n++]){case"\\":switch(r=c[n++]){case"b":o.push(b());break;case"B":o.push(w());break;case"w":o.push(h());break;case"W":o.push(p());break;case"d":o.push(m());break;case"D":o.push(d());break;case"s":o.push(g());break;case"S":o.push(y());break;default:/\d/.test(r)?o.push({type:s.REFERENCE,value:parseInt(r,10)}):o.push({type:s.CHAR,value:r.charCodeAt(0)})}break;case"^":o.push(E());break;case"$":o.push(O());break;case"[":var f;"^"===c[n]?(f=!0,n++):f=!1;var A=x.tokenizeClass(c.slice(n),e);n+=A[1],o.push({type:s.SET,set:A[0],not:f});break;case".":o.push(v());break;case"(":var I={type:s.GROUP,stack:[],remember:!0};"?"===(r=c[n])&&(r=c[n+1],n+=2,"="===r?I.followedBy=!0:"!"===r?I.notFollowedBy=!0:":"!==r&&x.error(e,`Invalid group, character '${r}'`+` after '?' at column ${n-1}`),I.remember=!1),o.push(I),u.push(a),a=I,o=I.stack;break;case")":0===u.length&&x.error(e,`Unmatched ) at column ${n-1}`),o=(a=u.pop()).options?a.options[a.options.length-1]:a.stack;break;case"|":a.options||(a.options=[a.stack],delete a.stack);var R=[];a.options.push(R),o=R;break;case"{":var k,P,M=/^(\d+)(,(\d+)?)?\}/.exec(c.slice(n));null!==M?(0===o.length&&l(n),k=parseInt(M[1],10),P=M[2]?M[3]?parseInt(M[3],10):1/0:k,n+=M[0].length,o.push({type:s.REPETITION,min:k,max:P,value:o.pop()})):o.push({type:s.CHAR,value:123});break;case"?":0===o.length&&l(n),o.push({type:s.REPETITION,min:0,max:1,value:o.pop()});break;case"+":0===o.length&&l(n),o.push({type:s.REPETITION,min:1,max:1/0,value:o.pop()});break;case"*":0===o.length&&l(n),o.push({type:s.REPETITION,min:0,max:1/0,value:o.pop()});break;default:o.push({type:s.CHAR,value:r.charCodeAt(0)})}return 0!==u.length&&x.error(e,"Unterminated group"),i};class I{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new I(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new I(this.low,e.low-1),new I(e.high+1,this.high)]:e.low<=this.low?[new I(e.high+1,this.high)]:[new I(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class R{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce((e,t)=>e+t.length,0)}add(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;r.push(e),this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof R?e.ranges.forEach(r):(null==t&&(t=e),r(new I(e,t))),this}subtract(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)r=r.concat(this.ranges[t].subtract(e)),t++;this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof R?e.ranges.forEach(r):(null==t&&(t=e),r(new I(e,t))),this}intersect(e,t){var r=[],n=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&e.overlaps(this.ranges[t]);){var n=Math.max(this.ranges[t].low,e.low),i=Math.min(this.ranges[t].high,e.high);r.push(new I(n,i)),t++}};return e instanceof R?e.ranges.forEach(n):(null==t&&(t=e),n(new I(e,t))),this.ranges=r,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new R(this)}}var k=R;const P=A.types=s;var M=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=A(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var r,n,i,a,o;switch(e.type){case P.ROOT:case P.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),n="",a=0,o=(r=e.options?this._randSelect(e.options):e.stack).length;a<o;a++)n+=this._gen(r[a],t);return e.remember&&(t[e.groupNumber]=n),n;case P.POSITION:return"";case P.SET:var s=this._expand(e);return s.length?String.fromCharCode(this._randSelect(s)):"";case P.REPETITION:for(i=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),n="",a=0;a<i;a++)n+=this._gen(e.value,t);return n;case P.REFERENCE:return t[e.value-1]||"";case P.CHAR:var u=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(u)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof k?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===A.types.CHAR)return new k(e.value);if(e.type===A.types.RANGE)return new k(e.from,e.to);{let t=new k;for(let r=0;r<e.set.length;r++){let n=this._expand(e.set[r]);if(t.add(n),this.ignoreCase)for(let e=0;e<n.length;e++){let r=n.index(e),i=this._toOtherCase(r);r!==i&&t.add(i)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new k(32,126)}set defaultRange(e){this._range=e}static randexp(t,r){var n;return"string"==typeof t&&(t=new RegExp(t,r)),void 0===t._randexp?(n=new e(t,r),t._randexp=n):(n=t._randexp)._setDefaults(t),n.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}};function _(e,t,r,n,i){return void 0===i&&(i=!1),r=void 0===r?o.MIN_NUMBER:r,n=void 0===n?o.MAX_NUMBER:n,e=void 0===e?r:e,(t=void 0===t?n:t)<e&&(t+=e),i?function(e,t){return a("random")()*(t-e)+e}(e,t):function(e,t){return e=void 0===e?o.MIN_INTEGER:e,t=void 0===t?o.MAX_INTEGER:t,Math.floor(a("random")()*(t-e+1))+e}(e,t)}var j={pick:function(e){return e[Math.floor(a("random")()*e.length)]},date:function(e){if(e)return function(e){switch(e){case"seconds":return 60*_(0,60);case"minutes":return 612*_(15,50);case"hours":return 36123*_(12,72);case"days":return 86412345*_(7,30);case"weeks":return 604812345*_(4,52);case"months":return 2592012345*_(2,13);case"years":return 31104012345*_(1,20)}}(e);var t=new Date,r=_(-1e3,o.MOST_NEAR_DATETIME);return t.setTime(t.getTime()-r),t},shuffle:function(e){for(var t,r,n=e.length,i=e.slice();n>0;)r=Math.floor(a("random")()*n),t=i[n-=1],i[n]=i[r],i[r]=t;return i},number:_,randexp:function(e){return M.prototype.max=a("defaultRandExpMax"),M.prototype.randInt=function(e,t){return e+Math.floor(a("random")()*(t-e+1))},new M(e).gen()}};function T(e,t){return Object.keys(t).forEach(function(r){"object"!=typeof t[r]||null===t[r]?e[r]=t[r]:Array.isArray(t[r])?(e[r]=e[r]||[],t[r].forEach(function(t){-1===e[r].indexOf(t)&&e[r].push(t)})):"object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?e[r]=T({},t[r]):e[r]=T(e[r],t[r])}),e}function C(){return j.pick([!1,!0,null,-1,NaN,Math.PI,1/0,void 0,[],{},Math.random(),Math.random().toString(36).substr(2)])}var N={getSubAttribute:function(e,t){for(var r=t.split(".");r.length;){var n=r.shift();if(!e[n])break;e=e[n]}return e},hasProperties:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.filter(function(t){return void 0!==e[t]}).length>0},omitProps:function(e,t){var r={};return Object.keys(e).forEach(function(n){-1===t.indexOf(n)&&(Array.isArray(e[n])?r[n]=e[n].slice():r[n]="object"==typeof e[n]?T({},e[n]):e[n])}),r},typecast:function(e,t,r){var n={};switch(e||t.type){case"integer":case"number":if(void 0!==t.minimum&&(n.minimum=t.minimum),void 0!==t.maximum&&(n.maximum=t.maximum),t.enum){var i=Math.max(n.minimum||0,0),o=Math.min(n.maximum||1/0,1/0);t.exclusiveMinimum&&i===t.minimum&&(i+=t.multipleOf||1),t.exclusiveMaximum&&o===t.maximum&&(o-=t.multipleOf||1),(i||o!==1/0)&&(t.enum=t.enum.filter(function(e){return e>=i&&e<=o}))}break;case"string":void 0!==t.minLength&&(n.minLength=t.minLength),void 0!==t.maxLength&&(n.maxLength=t.maxLength);var s=a("maxLength"),u=a("minLength");s&&n.maxLength>s&&(n.maxLength=s),u&&n.minLength<u&&(n.minLength=u)}var l=r(n);switch(e||t.type){case"number":l=parseFloat(l);break;case"integer":l=parseInt(l,10);break;case"boolean":l=!!l;break;case"string":l=String(l);for(var c=Math.max(n.minLength||0,0),f=Math.min(n.maxLength||1/0,1/0);l.length<c;)l+=" "+l;l.length>f&&(l=l.substr(0,f))}return l},merge:T,short:function(e){var t=JSON.stringify(e),r=JSON.stringify(e,null,2);return t.length>400?r.substr(0,400)+"...":r},notValue:function(e,t){var r=T({},t);if(void 0!==e.minimum&&(r.maximum=e.minimum,r.exclusiveMaximum=!0),void 0!==e.maximum&&(r.minimum=e.maximum>r.maximum?0:e.maximum,r.exclusiveMinimum=!0),void 0!==e.minLength&&(r.maxLength=e.minLength),void 0!==e.maxLength&&(r.minLength=e.maxLength>r.maxLength?0:e.maxLength),e.type)r.type=j.pick(o.ALL_TYPES.filter(function(t){return(Array.isArray(e.type)?e.type:[e.type]).every(function(e){return"number"===t||"integer"===t?"number"!==e&&"integer"!==e:t!==e})}));else if(e.enum){var n;do{n=C()}while(-1!==e.enum.indexOf(n));r.enum=[n]}return e.required&&r.properties&&e.required.forEach(function(e){delete r.properties[e]}),r},anyValue:C,validate:function(e,t){return!t.every(function(t){return void 0!==t.minimum&&e>=t.minimum||void 0!==t.maximum&&e<=t.maximum})},isKey:function(e){return-1!==["enum","const","default","examples","required","definitions"].indexOf(e)},template:function e(t,r){return Array.isArray(t)?t.map(function(t){return e(t,r)}):("string"==typeof t&&(t=t.replace(/#\{([\w.-]+)\}/g,function(e,t){return r[t]})),t)}};var S=function(){this.registry={},this.support={}};S.prototype.reset=function(e){e?(delete this.registry[e],delete this.support[e]):(this.registry={},this.support={})},S.prototype.extend=function(e,t){var r,n=this;this.registry[e]=t(this.registry[e]),this.support[e]||(this.support[e]=(r=function(){return n.registry[e]},function(e,t,n,i){var a=e,o=[];"object"==typeof e&&(a=Object.keys(e)[0],Array.isArray(e[a])?o=e[a]:o.push(e[a]));for(var s=a.split("."),u=r();s.length>1;)u=u[s.shift()];return"function"==typeof(e="object"==typeof u?u[s[0]]:u)&&(e=e.apply(u,o.map(function(e){return N.template(e,i)}))),"[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).forEach(function(t){if("function"==typeof e[t])throw new Error("Cannot resolve value for '"+n+": "+a+"', given: "+e)}),e}))},S.prototype.define=function(e,t){this.support[e]=t},S.prototype.get=function(e){if(void 0===this.registry[e])throw new ReferenceError("'"+e+"' dependency doesn't exist.");return this.registry[e]},S.prototype.wrap=function(e){for(var t=this,r=Object.keys(e),n={},i=r.length,a=function(){var a=r[i].replace(/^x-/,""),o=t.support[a];if("function"==typeof o)return Object.defineProperty(e,"generate",{configurable:!1,enumerable:!1,writable:!1,value:function(t){return o.call(n,e[r[i]],e,r[i],t)}}),"break"};i--;){if("break"===a())break}return e};var L=new r;function H(e,t){if(void 0===e)return L.list();if("string"==typeof e)if("function"==typeof t)L.register(e,t);else{if(null!==t&&!1!==t)return L.get(e);L.unregister(e)}else L.registerMany(e)}var $=function(e){function t(t,r){e.call(this),e.captureStackTrace&&e.captureStackTrace(this,this.constructor),this.name="ParseError",this.message=t,this.path=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),q={array:["additionalItems","items","maxItems","minItems","uniqueItems"],integer:["exclusiveMaximum","exclusiveMinimum","maximum","minimum","multipleOf"],object:["additionalProperties","dependencies","maxProperties","minProperties","patternProperties","properties","required"],string:["maxLength","minLength","pattern","format"]};q.number=q.integer;var G=["additionalItems","items","additionalProperties","dependencies","patternProperties","properties"];function F(e,t,r){return Object.keys(e).filter(function(e){var n=G.indexOf(t)>-1;return!(!(r.indexOf(e)>-1)||n)}).length>0}var z=function(){return a("random")()>.5};var B=function(){return null};function D(e){var t=void 0===e.minimum?o.MIN_INTEGER:e.minimum,r=void 0===e.maximum?o.MAX_INTEGER:e.maximum,n=e.multipleOf;if(n&&(r=Math.floor(r/n)*n,t=Math.ceil(t/n)*n),e.exclusiveMinimum&&t===e.minimum&&(t+=n||1),e.exclusiveMaximum&&r===e.maximum&&(r-=n||1),t>r)return NaN;if(n){if(-1===String(n).indexOf(".")){for(var i=j.number(Math.floor(t/n),Math.floor(r/n))*n;i<t;)i+=e.multipleOf;return i}var a,s,u=(r-t)/n;do{s=(a=j.number(0,u)*n)/n%1}while(0!==s);return a}return j.number(t,r,void 0,void 0,!0)}var U="Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore\net dolore magna aliqua Ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea\ncommodo consequat Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\npariatur Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est\nlaborum".split(/\W/);function Z(e){return j.shuffle(U).slice(0,e)}var J={type:["string","number","integer","boolean"]};function V(){return Z(j.number(1,5)).join(" ")}function X(e,t){void 0===e&&(e=0),void 0===t&&(t=140);for(var r=Math.max(0,e),n=j.number(r,t),i=V();i.length<r;)i+=V();return i.length>n&&(i=i.substr(0,n)),i}function W(){return j.date().toISOString()}var K="https?://{hostname}(?:[a-zA-Z][a-zA-Z0-9+-.]*)+",Y={email:"[a-zA-Z\\d][a-zA-Z\\d-]{1,13}[a-zA-Z\\d]@{hostname}",hostname:"[a-zA-Z]{1,33}\\.[a-z]{2,4}",ipv6:"[a-f\\d]{4}(:[a-f\\d]{4}){7}",uri:K,"uri-reference":K+"(?:\\?([a-z]{1,7}(=\\w{1,5})?&){0,3})?","uri-template":K.replace("(?:","(?:/\\{[a-z][:a-zA-Z0-9-]*\\}|"),"json-pointer":"(/(?:"+"[a-zA-Z][a-zA-Z0-9+-.]*".replace("]*","/]*")+"|~[01]))+",uuid:"^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$"};Y.iri=Y["uri-reference"],Y["iri-reference"]=Y["uri-reference"],Y["idn-email"]=Y.email,Y["idn-hostname"]=Y.hostname;var Q=new RegExp("\\{("+Object.keys(Y).join("|")+")\\}");function ee(e,t){var r,n=H(e.format);if("function"==typeof n)return n(e);switch(e.format){case"date-time":case"datetime":return W();case"date":return W().slice(0,10);case"time":return W().slice(11);case"ipv4":return[0,0,0,0].map(function(){return j.number(0,255)}).join(".");case"regex":return".+?";case"email":case"hostname":case"ipv6":case"uri":case"uri-reference":case"iri":case"iri-reference":case"idn-email":case"idn-hostname":case"json-pointer":case"uri-template":case"uuid":return r=e.format,j.randexp(Y[r]).replace(Q,function(e,t){return j.randexp(Y[t])});default:if(void 0===n){if(a("failOnInvalidFormat"))throw new Error("unknown registry key "+N.short(e.format));return t()}throw new Error("unsupported format '"+e.format+"'")}}var te={boolean:z,null:B,array:function(e,t,r,n){var i=[];if(!e.items&&!e.additionalItems){if(N.hasProperties(e,"minItems","maxItems","uniqueItems"))throw new $("missing items for "+N.short(e),t);return i}if(Array.isArray(e.items))return e.items.map(function(e,i){var a=t.concat(["items",i]);return n(e,a,r)});var o=e.minItems,s=e.maxItems;a("minItems")&&(o=s?Math.min(a("minItems"),s):a("minItems")),a("maxItems")&&(s&&s>a("maxItems")&&(s=a("maxItems")),o&&o>a("maxItems")&&(o=s));var u=!0===a("alwaysFakeOptionals")?1:a("optionalsProbability"),l=a("fixedProbabilities")||!1,c=j.number(o,s,1,5);!1!==u&&(c=l?Math.round(s*u):j.number(o,s*u));for(var f="object"==typeof e.additionalItems?e.additionalItems:{},h=i.length;h<c;h+=1){var p=t.concat(["items",h]),m=n(e.items||f,p,r);i.push(m)}return e.uniqueItems?function(e,t,r,n,i,a){var o=[],s=[];function u(e){var t=JSON.stringify(e);-1===s.indexOf(t)&&(s.push(t),o.push(e))}t.forEach(u);for(var l=100;o.length!==t.length;)if(u(a(r.items||n,e,i)),!l){l-=1;break}return o}(t.concat(["items"]),i,e,f,r,n):i},integer:function(e){return D(Object.assign({multipleOf:1},e))},number:D,object:function(e,t,r,n){var i={},o=e.properties||{},s=e.patternProperties||{},u=(e.required||[]).slice(),l=!1!==e.additionalProperties,c=Object.keys(o),f=Object.keys(s),h=c.concat(f).reduce(function(e,t){return-1===u.indexOf(t)&&e.push(t),e},[]),p=u.concat(h),m=l?!0===e.additionalProperties?J:e.additionalProperties:null;if(!l&&0===c.length&&0===f.length&&N.hasProperties(e,"minProperties","maxProperties","dependencies","required"))return{};if(!0===a("requiredOnly"))return u.forEach(function(e){o[e]&&(i[e]=o[e])}),n(i,t.concat(["properties"]),r);var d=!0===a("alwaysFakeOptionals")?1:a("optionalsProbability"),g=a("fixedProbabilities")||!1,y=a("ignoreProperties")||[],v=Math.max(e.minProperties||0,u.length),x=Math.min(e.maxProperties||p.length,p.length),b=Math.max(0,v-u.length);1!==p.length||u.length||(b=j.number(b,p.length+(x-v))),!1!==d&&(b=!0===g?Math.round(v-u.length+d*(x-v)):j.number(v-u.length,d*(x-v)));var w=j.shuffle(h).slice(0,b),E=h.filter(function(e){return-1!==w.indexOf(e)}),O=[],A=[];u.concat(E).slice(0,x).forEach(function(e){for(var t=0;t<y.length;t+=1)if(y[t]instanceof RegExp&&y[t].test(e)||"string"==typeof y[t]&&y[t]===e||"function"==typeof y[t]&&y[t](o[e],e))return void O.push(e);var r;if(o[e])i[e]=o[e];else if(f.forEach(function(t){e.match(new RegExp(t))&&(r=!0,i[j.randexp(e)]=s[t])}),!r){var n=s[e]||m;n?i[s[e]?j.randexp(e):e]=n:A.push(e)}});var I=a("fillProperties"),R=a("reuseProperties"),k=Object.keys(i).length+(I?0:O.length);function P(){var e;do{e=u.shift()}while(i[e]);return e}for(;I&&(f.length||l)&&!(k>=v);){if(l)if(R&&c.length-k>v){var M=0,_=void 0;do{if((M+=1)>1e3)break;_=P()||j.pick(c)}while(void 0!==i[_]);void 0===i[_]&&(i[_]=o[_],k+=1)}else if(f.length&&!m){var T=j.pick(f),C=j.randexp(T);i[C]||(i[C]=s[T],k+=1)}else{var S=P()||Z(1)+j.randexp("[a-f\\d]{1,3}");i[S]||(i[S]=m||J,k+=1)}for(var L=0;k<v&&L<f.length;L+=1){var H=f[L],q=j.randexp(H);i[q]||(i[q]=s[H],k+=1)}}if(!l&&k<v){if(A.length)throw new $("properties '"+A.join(", ")+"' were not found while additionalProperties is false:\n"+N.short(e),t);throw new $("properties constraints were too strong to successfully generate a valid object for:\n"+N.short(e),t)}return n(i,t.concat(["properties"]),r)},string:function(e){return N.typecast("string",e,function(t){return e.format?ee(e,function(){return X(t.minLength,t.maxLength)}):e.pattern?j.randexp(e.pattern):X(t.minLength,t.maxLength)})}};function re(e,t,r,n){if(e=r(e,void 0,t)){if("properties"!==t[t.length-1]){if(a("useExamplesValue")&&Array.isArray(e.examples)){var i=e.examples.concat("default"in e?[e.default]:[]);return N.typecast(null,e,function(){return j.pick(i)})}if(a("useDefaultValue")&&"default"in e)return e.default;if("template"in e)return N.template(e.template,n)}if(e.not&&"object"==typeof e.not&&(e=N.notValue(e.not,N.omitProps(e,["not"]))),"const"in e)return e.const;if(Array.isArray(e.enum))return N.typecast(null,e,function(){return j.pick(e.enum)});if("function"==typeof e.thunk)return re(e.thunk(),t,r);if("function"==typeof e.generate)return N.typecast(null,e,function(){return e.generate(n)});var o=e.type;if(Array.isArray(o)?o=j.pick(o):void 0===o&&(o=function(e,t){for(var r=Object.keys(q),n=0;n<r.length;n+=1){var i=r[n];if(F(e,t[t.length-1],q[i]))return i}}(e,t)||o)&&(e.type=o),"string"==typeof o){if(!te[o]){if(a("failOnInvalidTypes"))throw new $("unknown primitive "+N.short(o),t.concat(["type"]));return a("defaultInvalidTypeProduct")}try{return te[o](e,t,r,re)}catch(e){if(void 0===e.path)throw new $(e.message,t);throw e}}var s={};return Array.isArray(e)&&(s=[]),Object.keys(e).forEach(function(n){"object"==typeof e[n]&&"definitions"!==n?s[n]=re(e[n],t.concat([n]),r,s):s[n]=e[n]}),s}}function ne(t,r,n,i){if(!t||"object"!=typeof t)return t;if(n||(n={}),r||(r=t),Array.isArray(t))return t.map(function(e){return ne(e,r,n,i)});if(t.jsonPath){var a="object"!=typeof t.jsonPath?{path:t.jsonPath}:t.jsonPath;a.group=t.group||a.group||i,a.cycle=t.cycle||a.cycle||!1,a.reverse=t.reverse||a.reverse||!1,a.count=t.count||a.count||1;var o=a.group+"__"+a.path;return n[o]||(a.count>1?n[o]=e.query(r,a.path,a.count):n[o]=e.query(r,a.path)),a.cycle||a.reverse?function(e,t){if(!Array.isArray(e))return e;var r=t?e.pop():e.shift();return t?e.unshift(r):e.push(r),r}(n[o],a.reverse):function(e){return Array.isArray(e)?j.pick(e):e}(n[o])}return Object.keys(t).forEach(function(e){t[e]=ne(t[e],r,n,e)}),t}function ie(e,t,r){try{var n=re(t,[],function n(i,o,s){if(void 0===o&&(o=j.number(1,3)),!i)return null;if("function"==typeof i.generate)return i;if("string"==typeof(i.$id||i.id)&&(delete i.id,delete i.$id,delete i.$schema),"string"==typeof i.$ref){if("#"===i.$ref)return delete i.$ref,i;var u;if(-1===i.$ref.indexOf("#/")&&(u=e[i.$ref]||null),0===i.$ref.indexOf("#/definitions/")&&(u=t.definitions[i.$ref.split("#/definitions/")[1]]||null),void 0!==u){if(!u&&!0!==a("ignoreMissingRefs"))throw new Error("Reference not found: "+i.$ref);N.merge(i,u||{})}return delete i.$ref,i}if(Array.isArray(i.allOf)){var l=i.allOf;delete i.allOf,l.forEach(function(e){var t=n(e,o+1,s);N.merge(i,"function"==typeof t.thunk?t.thunk():t)})}if(Array.isArray(i.oneOf||i.anyOf)){var c=i.oneOf||i.anyOf;return i.enum&&i.oneOf&&(i.enum=i.enum.filter(function(e){return N.validate(e,c)})),{thunk:function(){var e=N.omitProps(i,["anyOf","oneOf"]);return N.merge(e,j.pick(c)),e}}}if(Object.keys(i).forEach(function(e){!Array.isArray(i[e])&&"object"!=typeof i[e]||N.isKey(e)||(i[e]=n(i[e],o,s.concat(e)))}),s){var f=s[s.length-1];if("properties"===f||"items"===f)return i}return r.wrap(i)});return a("resolveJsonPath")?ne(n):n}catch(e){throw e.path?new Error(e.message+" in /"+e.path.join("/")):e}}var ae=new S;function oe(){ae.define("pattern",j.randexp),ae.define("autoIncrement",function(e,t){if(!this.offset){var r=t.minimum||1,n=r+o.MAX_NUMBER,i=e.initialOffset||t.initialOffset;this.offset=i||j.number(r,n)}return!0===e?this.offset++:t}),ae.define("sequentialDate",function(e,t){if(this.now||(this.now=j.date()),e){if(t=this.now.toISOString(),-1===["seconds","minutes","hours","days","weeks","months","years"].indexOf(e=!0===e?"days":e))throw new Error("Unsupported increment by "+N.short(e));this.now.setTime(this.now.getTime()+j.date(e))}return t})}function se(e){var t={};return Array.isArray(e)?e.forEach(function(e){t[e.$id||e.id]=e}):t=e||{},t}var ue=function(e,t,r){return console.log("[json-schema-faker] calling JsonSchemaFaker() is deprecated, call either .generate() or .resolve()"),r&&console.log("[json-schema-faker] references are only supported by calling .resolve()"),ue.generate(e,t)};return ue.generate=function(e,t){return ie(se(t),e,ae)},ue.resolve=function(e,r,n){"string"==typeof r&&(n=r,r={}),n=(n=n||("undefined"!=typeof process?process.cwd():"")).replace(/\/+$/,"")+"/";var i=se(r),a={order:300,canRead:!0,read:function(e,t){try{t(null,i[e.url]||i[e.url.split("/").pop()])}catch(e){t(e)}}};return t.dereference(n,e,{resolve:{file:{order:100},http:{order:200},fixedRefs:a},dereference:{circular:"ignore"}}).then(function(e){return ie(i,e,ae)})},oe(),ue.format=H,ue.option=a,ue.random=j,ue.extend=function(e,t){return ae.extend(e,t),ue},ue.define=function(e,t){return ae.define(e,t),ue},ue.reset=function(e){return ae.reset(e),oe(),ue},ue.locate=function(e){return ae.get(e)},ue.version="0.5.0-rc16",ue});
//# sourceMappingURL=json-schema-faker.min.js.map
